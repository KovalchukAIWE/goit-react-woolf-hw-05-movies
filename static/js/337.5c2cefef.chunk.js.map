{"version":3,"file":"static/js/337.5c2cefef.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","pages/MoviesPage/MoviesPage.jsx","service/service-movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MoviesList_item__eePYv\"};","import { Link, useLocation } from 'react-router-dom';\nimport styles from './MoviesList.module.css';\n\nconst MoviesList = ({ films }) => {\n  const location = useLocation();\n\n  return (\n    <ul>\n      {films.map(film => (\n        <li key={film.id} className={styles.item}>\n          <Link\n            to={`/movies/${film.id}`}\n            state={{ from: location }}\n            cover={film.poster_path}\n          >\n            {film.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"SearchForm_button__UXY06\",\"input\":\"SearchForm_input__HOxJo\"};","import { useState } from 'react';\nimport styles from './SearchForm.module.css';\n\nconst SearhForm = ({ searchMovies }) => {\n  const [query, setQuery] = useState('');\n\n  const handleInputChange = event => {\n    setQuery(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    searchMovies(query.toLowerCase());\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"text\"\n        name=\"query\"\n        autoFocus\n        value={query}\n        onChange={handleInputChange}\n        placeholder=\"Search movie\"\n        className={styles.input}\n      />\n      <button type=\"submit\" className={styles.button}>\n        Search\n      </button>\n    </form>\n  );\n};\n\nexport default SearhForm;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport Loader from 'components/Loader/Loader';\nimport { getSearchMovies } from '../../service/service-movies';\nimport SearhForm from 'components/SearchForm/SearchForm';\nimport MoviesList from 'components/MoviesList/MoviesList';\n\nconst MoviesPage = () => {\n  const [searchMovies, setSearchMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [errorText, setErrorText] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieTitle = searchParams.get('query') || '';\n\n  const updateQueryString = query => {\n    const nextParams = query !== '' && { query };\n    setSearchParams(nextParams);\n  };\n\n  useEffect(() => {\n    const search = async () => {\n      try {\n        setLoading(true);\n        const movies = await getSearchMovies(movieTitle);\n        setSearchMovies(movies);\n        setErrorText(movies.length === 0);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    search();\n  }, [movieTitle]);\n\n  return (\n    <main>\n      <SearhForm searchMovies={updateQueryString} />\n      {loading && <Loader />}\n      {errorText && <p>There are no movies. Please, try again...</p>}\n      {searchMovies.length > 0 && <MoviesList films={searchMovies} />} \n    </main>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst API_KEY = 'dda59f4936591e74cda44d0ee157e8ca';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const getAllMovies = async () => {\n  const response = await axios.get(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n  return response.data.results;\n};\n\nexport const getSearchMovies = async query => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&page=1&query=${query}`\n  );\n  return response.data.results;\n};\n\nexport const getSingleMovieApi = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`\n  );\n  return response.data;\n};\n\nexport const getMovieCast = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n  return response.data.cast;\n};\n\nexport const getMovieReviews = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&page=1`\n  );\n  return response.data;\n};\n"],"names":["_ref","films","location","useLocation","_jsx","children","map","film","className","styles","Link","to","concat","id","state","from","cover","poster_path","title","searchMovies","_useState","useState","_useState2","_slicedToArray","query","setQuery","_jsxs","onSubmit","event","preventDefault","toLowerCase","type","name","autoFocus","value","onChange","target","placeholder","setSearchMovies","_useState3","_useState4","loading","setLoading","_useState5","_useState6","errorText","setErrorText","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","movieTitle","get","useEffect","search","_asyncToGenerator","_regeneratorRuntime","_callee","movies","_context","prev","next","getSearchMovies","sent","length","t0","console","error","finish","stop","apply","arguments","SearhForm","Loader","MoviesList","API_KEY","BASE_URL","getAllMovies","response","axios","abrupt","data","results","_ref2","_callee2","_context2","_x","getSingleMovieApi","_ref3","_callee3","movieId","_context3","_x2","getMovieCast","_ref4","_callee4","_context4","cast","_x3","getMovieReviews","_ref5","_callee5","_context5","_x4"],"sourceRoot":""}